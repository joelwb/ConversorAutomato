(moore
    (symbols-in a b)
    (symbols-out x y)
    (states s0 s1' s2' s3' s3'' s4' s4'' s5' s5'')
    (start s0)
    (finals s5' s5'')
    (trans
        (s3' s5'' a)
        (s3'' s5' b)
        (s0 s1' a)
        (s1' s3' a)
        (s2' s4'' b)
        (s3'' s5'' a)
        (s0 s2' b)
        (s4' s5'' b)
        (s4'' s5'' b)
        (s3' s5' b)
        (s1' s4' b)
        (s4' s5' a)
        (s4'' s5' a)
        (s2' s3'' a)
    )
    (out−fn
        (s4'' x)
        (s5' y)
        (s3'' y)
        (s3' x)
        (s4' y)
        (s5'' x)
        (s1' x)
        (s2' y)
        (s0 ())
    )
)
(mealy
    (symbols-in a b)
    (symbols-out 0 1)
    (states q0 q0’ q1 q2 q3 q3’)
    (start q0)
    (finals q3 q3’)
    (trans
        (q3’ q0’ b 1)
        (q2 q3’ b 1)
        (q0 q1 a 0)
        (q1 q3’ a 1)
        (q1 q2 b 1)
        (q2 q0’ a 1)
        (q0 q3 b 0)
        (q3 q3’ a 1)
        (q3’ q3’ a 1)
        (q3 q0’ b 1)
    )
)
(moore
    (symbols-in a b)
    (symbols-out 0 1)
    (states q0 q0' q1' q2' q3' q3'')
    (start q0)
    (finals q3' q3'')
    (trans
        (q1' q3'' a)
        (q2' q3'' b)
        (q1' q2' b)
        (q2' q3' a)
        (q0 q3' b)
        (q3' q0' b)
        (q3'' q3'' a)
        (q3'' q0' b)
        (q0' q3' b)
        (q3' q3'' a)
        (q0 q1' a)
        (q0' q1' a)
    )
    (out−fn
        (q3' 0)
        (q1' 0)
        (q3'' 1)
        (q2' 1)
        (q0' 1)
        (q0 ())
    )
)
